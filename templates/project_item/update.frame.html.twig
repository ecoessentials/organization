<turbo-frame id="project-item-{{ item.id }}">
    {{ form_start(form) }}
    <div class="w-full flex items-center gap-2 py-2">
        <div class="align-middle pr-2"><i class="handle fa fa-lg fa-grip-vertical opacity-50"></i></div>
        <div class="w-full align-middle pl-1 flex-grow">
            {{ form_widget(form.name, { attr: { class: "w-full"}}) }}
        </div>
        <div class="align-middle pl-1">
            <button class="btn text-success btn-ghost btn-circle ml-auto mt-1 flex flex-nowrap" formnovalidate>
                <i class="fa fa-check fa-lg"></i>
            </button>
        </div>
        <div class="align-middle pl-1">
            <a href="{{ path('app_project_item_show', { project: project.id, item: item.id }) }}"
               class="btn btn-ghost text-base-300 btn-circle ml-auto mt-1 flex flex-nowrap"
            >
                <i class="fa fa-times fa-lg"></i>
            </a>
        </div>
    </div>
    {% set ignoreGroups = item.product.featureGroups|length <= 1 %}
    <div class="px-8 py-4 rounded-lg bg-base-200 mt-4 mb-6 flex flex-col gap-4">
        {% for group in item.product.featureGroups %}
            <div>
                {% if not ignoreGroups %}
                    <div class="mb-3 bg-base-300 -mx-2 px-2 py-1 opacity-50">{{ group.name }}</div>
                {% endif %}
                <div class="flex flex-col gap-4 overflow-y-auto">
                    {% for feature in group.features %}
                        {% for featureValue in form.featureValues %}
                            {% if featureValue.vars.data.productFeature == feature %}
                                {{ form_row(featureValue, { row_attr: { class: 'mb-0' } }) }}
                            {% endif %}
                        {% endfor %}
                    {% endfor %}
                </div>
            </div>
        {% endfor %}
    </div>
    {{ form_row(form.quantities) }}
    {{ form_end(form) }}
</turbo-frame>